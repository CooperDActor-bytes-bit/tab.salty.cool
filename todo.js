function todo__window_show(){todo_window.style.display="",todo_window.dataset.show="true",todo_window.classList.remove("animation__todo_window_hide"),todo_window.classList.add("animation__todo_window_show")}function todo__window_hide(){todo_window.classList.remove("animation__todo_window_show"),todo_window.classList.add("animation__todo_window_hide")}function todo__empty_manager(){qsAll(".todo_window_item").length>0?(todo_window_empty.style.display="none",todo_window_block_a.style.display=""):(todo_window_empty.style.display="",todo_window_block_a.style.display="none")}function todo__item_click(o){todo_append__get_item_data(o,(function(t){let d=t.value,_=t.completed;_=!_,todo_append__set_item_data(o,d,_,(function(){todo_append__update_item(o)}))}))}let todo_btn=qs("#todo_btn"),todo_window=qs(".todo_window"),todo_window_block_a=qs(".todo_window_block_a"),todo_all_completed=qs("#todo_all_completed"),todo_remove_completed=qs("#todo_remove_completed"),todo_window_items=qs(".todo_window_items"),todo_window_empty=qs(".todo_window_empty"),todo_input=qs("#todo_input");todo_window.addEventListener("animationend",(function(o){o.target.classList.contains("todo_window")&&"animation__todo_window_hide"===o.animationName&&(todo_window.style.display="none",todo_window.dataset.show="false")})),document.addEventListener("mousedown",(function(o){o.target.matches(".todo, .todo *")||"true"===todo_window.dataset.show&&todo__window_hide()})),todo_btn.addEventListener("click",(function(){"true"===todo_window.dataset.show?todo__window_hide():todo_append__go((function(){todo__empty_manager(),todo__window_show(),todo_input.focus()}))})),todo_window_items.addEventListener("click",(function(o){if(o.target.classList.contains("todo_window_item")){todo__item_click(o.target.dataset.id)}})),todo_input.addEventListener("keydown",(function(o){if("Enter"===o.key){let o=todo_input.value;o&&(todo_append__create_item_data(o,!1,(function(o){todo_append__create_item(o,(function(){max_scroll_top(todo_window_items)})),todo__empty_manager()})),todo_input.value="")}})),todo_all_completed.addEventListener("click",(function(){let o=qsAll(".todo_window_item:not(.todo_window_item_completed)");for(let t=0;t<o.length;t++){todo__item_click(o[t].dataset.id)}})),todo_remove_completed.addEventListener("click",(function(){let o=qsAll(".todo_window_item_completed");for(let t=0;t<o.length;t++){let d=o[t].dataset.id;todo_append__remove_item(d,(function(){todo_append__index_items_manager(),todo__empty_manager()}))}})),new Sortable(todo_window_items,{animation:150,draggable:".todo_window_item",onSort:function(){todo_append__index_items_manager()}});