function notepad_append__set_item_data(e,t,n,_){chromels("set","notepad_item_"+e+"_title",t,(function(){chromels("set","notepad_item_"+e+"_time",n,(function(){_&&_()}))}))}function notepad_append__get_item_data(e,t){chromels("get","notepad_item_"+e+"_title",!1,(function(n){chromels("get","notepad_item_"+e+"_time",!1,(function(e){t&&t({title:n,time:e})}))}))}function notepad_append__remove_item_data(e,t){chromels("remove","notepad_item_"+e+"_title",!1,(function(){chromels("remove","notepad_item_"+e+"_time",!1,(function(){t&&t()}))}))}function notepad_append__create_item(e,t,n){let _=document.createElement("div");if(_.classList.add("notepad_window_item"),_.dataset.id=e,_.innerHTML='\n    <text>loading..</text>\n    <span class="material-icons" data-uid="notepad_window_item_remove">close</span>\n    ',t){let e=qsAll(".notepad_window_item")[0];notepad_window_items.insertBefore(_,e)}else notepad_window_items.appendChild(_);notepad_append__update_item(e,(function(){n&&n()}))}function notepad_append__update_item(e,t){qs('.notepad_window_item[data-id="'+e+'"]')&&notepad_append__get_item_data(e,(function(n){let _=n.title,a=(n.time,qs('.notepad_window_item[data-id="'+e+'"]>text'));a&&(a.textContent=_),t&&t()}))}function notepad_append__remove_item(e,t){notepad_append__remove_item_data(e,(function(){let n=qs('.notepad_window_item[data-id="'+e+'"]');n&&(n.parentNode.removeChild(n),t&&t())}))}function notepad_append__create_item_data(e,t,n){chromels("get","notepad_items_count",!1,(function(_){_||(_=0);let a=_++;chromels("set","notepad_items_count",_,(function(){chromels("get","notepad_items",!1,(function(_){_||(_=[]),_.push(a),chromels("set","notepad_items",_,(function(){notepad_append__set_item_data(a,e,t,(function(){n&&n(a)}))}))}))}))}))}function notepad_append__create_items_data(e,t){let n=0,_=[];!function a(){if(e.length>0){notepad_append__create_item_data(e[n].title,e[n].time,(function(o){_.push(o),n===e.length-1?t&&t(_):(n++,a())}))}}()}function notepad_append__index_items_manager(e){let t=[],n=qsAll(".notepad_window_item");for(let e=0;e<n.length;e++)t.push(Number(n[e].dataset.id));chromels("set","notepad_items",t,(function(){e&&e()}))}function notepad_append__go(e){function t(){chromels("get","notepad_items",!1,(function(t){for(let e=0;e<t.length;e++)notepad_append__create_item(t[e]);e&&e()}))}notepad_window_items.innerHTML="",chromels("get","notepad_items_count",!1,(function(e){e?t():notepad_append__create_items_data(notepad_append__start_items,(function(e){t()}))}))}let notepad_append__start_items=[{title:"New sheet",time:ut()}];